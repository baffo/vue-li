/**
 * vue-li v1.0.0
 * (c) 2021 baffo <undefined>
 * @license MIT
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.VueLi={})}(this,function(t){"use strict";var s={props:{src:{type:String,required:!0},srcPlaceholder:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},srcFallback:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},srcset:{type:String},intersectionOptions:{type:Object,default:function(){return{}}},usePicture:{type:Boolean,default:!1}},inheritAttrs:!1,data:function(){return{observer:null,intersected:!1,loaded:!1,notFound:!1}},computed:{srcImage:function(){return this.notFound?this.srcFallback:this.intersected&&this.src?this.src:this.srcPlaceholder},srcsetImage:function(){return!this.notFound&&(!(!this.intersected||!this.srcset)&&this.srcset)}},methods:{load:function(){this.$el.getAttribute("src")!==this.srcPlaceholder&&(this.loaded=!0,this.$emit("load",this.$el))},error:function(){this.notFound=!0,this.$emit("error",this.$el)}},render:function(t){var e=t("img",{attrs:{src:this.srcImage,srcset:this.srcsetImage},domProps:this.$attrs,class:{"vue-li-image":!0,"vue-li-loaded":this.loaded},on:{load:this.load,error:this.error}});return this.usePicture?this.intersected?t("picture",{on:{load:this.load}},this.intersected?[this.$slots.default,e]:[]):t("picture",{attrs:{style:"padding: 1px;"},domProps:this.$attrs}):e},mounted:function(){var e=this;"IntersectionObserver"in window&&(this.observer=new IntersectionObserver(function(t){t.some(function(t){return t.isIntersecting||0<t.intersectionRatio})&&(e.intersected=!0,e.observer.disconnect(),e.$emit("intersect",e.$el))},this.intersectionOptions),this.observer.observe(this.$el))},destroyed:function(){this.observer&&this.observer.disconnect()}},e={install:function(t,e){t.component("VueLi",s)}};t.default=s,t.VueLiPlugin=e,Object.defineProperty(t,"__esModule",{value:!0})});